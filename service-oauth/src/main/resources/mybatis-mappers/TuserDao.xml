<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.serviceoauth.dao.TuserDao">
  <resultMap id="BaseResultMap" type="com.serviceoauth.entity.userdb.Tuser">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" jdbcType="BIGINT" property="id"/>
    <result column="username" jdbcType="VARCHAR" property="username"/>
    <result column="password" jdbcType="VARCHAR" property="password"/>
    <result column="fullname" jdbcType="VARCHAR" property="fullname"/>
    <result column="mobile" jdbcType="VARCHAR" property="mobile"/>
  </resultMap>
  <select id="findPermissionsByUserId" resultType="java.lang.String">
    select code from t_permission
    where id in (
    SELECT permission_id FROM t_role_permission
    WHERE role_id IN(
    SELECT role_id FROM t_user_role WHERE user_id = 1)
    )
  </select>

</mapper>